
<!DOCTYPE html>
<html>
<head>
	<title>Interactive Map</title>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
	<style>
		#map { width: 100%; height: 500px; }
		#search-box { margin: 10px; padding: 5px; }
		#reset-button { margin: 10px; padding: 5px; cursor: pointer; }
	</style>
</head>
<body>
	<input type="text" id="search-box" placeholder="Enter location">
	<button id="reset-button">Reset Map</button>
	<div id="map"></div>
	<script>
		var map = L.map('map').setView([44.6433294, -61.2735643], 10);
		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
			attribution: '&copy; OpenStreetMap contributors'
		}).addTo(map);

		var markers = [];

	
				
				const customIcon = L.icon({
					iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
					// iconSize: [32, 32],
					iconAnchor: [16, 32],
					popupAnchor: [0, -32]
				});
			
				var marker = L.marker([37.7792588, -122.4193286], { icon: customIcon }).addTo(map).bindPopup('San Francisco');
				markers.push(marker);
			
var marker = L.marker([40.7127281, -74.0060152]).addTo(map).bindPopup('New York'); markers.push(marker);
var marker = L.marker([51.5074, -0.1278]).addTo(map).bindPopup('London'); markers.push(marker);
		document.getElementById('reset-button').addEventListener('click', function() {
			map.setView([44.6433294, -61.2735643], 10);
		});

		document.getElementById('search-box').addEventListener('keyup', function(event) {
			if (event.key === 'Enter') {
				var query = event.target.value.trim();
				if (!query) {
					alert('Please enter a valid location.');
					return;
				}

				fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${query}`, {
					headers: { 'User-Agent': '__PACKAGE__' }
				})
				.then(response => response.json())
				.then(data => {
					if (data.length > 0) {
						var lat = data[0].lat;
						var lon = data[0].lon;
						map.setView([lat, lon], 14);
						var searchMarker = L.marker([lat, lon]).addTo(map).bindPopup(query).openPopup();
						markers.push(searchMarker);
					} else {
						alert('No results found. Try a different location.');
					}
				})
				.catch(error => {
					console.error('Error fetching location:', error);
					alert('Failed to fetch location. Please check your internet connection and try again.');
				});
			}
		});

			</script>
		</body>
		</html>
	